<section id="nice" data-tool="mdnice编辑器" data-website="https://www.mdnice.com" style="font-size: 16px; color: black; padding: 0 10px; line-height: 1.6; word-spacing: 0px; letter-spacing: 0px; word-break: break-word; word-wrap: break-word; text-align: left; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;"><h2 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; font-size: 22px; color: #009688; padding-left: 10px; margin: 1em auto; border-left: 3px solid #009688;"><span class="prefix" style="display: none;"></span><span class="content">基于lucene.net的全文检索工具</span><span class="suffix"></span></h2>
<blockquote class="multiquote-1" data-tool="mdnice编辑器" style="border: none; display: block; font-size: 0.9em; overflow: auto; overflow-scrolling: touch; background: rgba(0, 0, 0, 0.05); padding-top: 10px; padding-bottom: 10px; padding-right: 10px; margin-bottom: 20px; margin-top: 20px; border-left: 2px solid #888; border-right: 2px solid #888; padding-left: 1em; color: #777;">
<p style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; text-align: justify; margin: 0px; color: black; line-height: 26px;">基于lucene.net 实现的一款全文检索工具，支持结果短语查询，中英文分词查询，关键字查询，也可以自行安装符合Lucene.Net的分析器以及分词工具。本项目最低支持net framework4.5.1 目前大多数项目中可以引入。索引数据的操作需要自行实现，比如使用ef/efcore的change tracking 、savechange拦截器、领域事件等方式实现索引的操作与项目中数据的同步。</p>
</blockquote>
<blockquote class="multiquote-1" data-tool="mdnice编辑器" style="border: none; display: block; font-size: 0.9em; overflow: auto; overflow-scrolling: touch; background: rgba(0, 0, 0, 0.05); padding-top: 10px; padding-bottom: 10px; padding-right: 10px; margin-bottom: 20px; margin-top: 20px; border-left: 2px solid #888; border-right: 2px solid #888; padding-left: 1em; color: #777;">
<p style="font-size: 16px; padding-top: 8px; padding-bottom: 8px; text-align: justify; margin: 0px; color: black; line-height: 26px;">注意：该工具仅适用于简单搜索场景，不适用于分布式应用以及复杂的场景，专业项目请考虑使用大型的搜索引擎中间件做支撑，如：ElasticSearch，或考虑数据库全文检索，或数据库正则。
注意：对于复杂字段的索引，目前只是进行序列化方式，需要自行实现 <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #009688;">IFieldSerializeProvider</code> 接口以实现字段的序列化，并且字段的特性<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #009688;">LuceneIndexed</code> 中 <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #009688;">IsSerializeStore</code> 要设置成true
注意：请数据自定标识字段，并且字段的特性<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #009688;">LuceneIndexed</code> 中 <code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #009688;">IsIdentityField</code> 要设置成true
注意：需要指定版本的地方请使用<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #009688;">LuceneSearchEngine.LuceneVersion</code></p>
</blockquote>
<h3 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 0.6em auto; padding-left: 10px; border-left: 2px solid #009688;"><span class="prefix" style="display: none;"></span><span class="content">使用方式</span><span class="suffix" style="display: none;"></span></h3>
<ol data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: decimal;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">net framework</section></li></ol>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; background: #282c34; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch;"><span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;net&nbsp;framework&nbsp;中直接new就可以。或者使用依赖注入框架。</span><br><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">using</span>&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">var</span>&nbsp;searchEngine&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">new</span>&nbsp;LuceneSearchEngine(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">new</span>&nbsp;SmartChineseAnalyzer(LuceneSearchEngine.LuceneVersion),<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">new</span>&nbsp;LuceneSearchEngineOptions<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;IndexDir&nbsp;=&nbsp;Path.Combine(AppDomain.CurrentDomain.BaseDirectory,&nbsp;&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">"luceneIndexs"</span>),<br>},<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">new</span>&nbsp;NewtonsoftMessageSerializeProvider());<br><br><br><br></code></pre>
<ol start="2" data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: decimal;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">netcore/net5/net6中使用</section></li></ol>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; background: #282c34; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch;">builder.Services.Configure&lt;LuceneSearchEngineOptions&gt;(o&nbsp;=&gt;<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;o.IndexDir&nbsp;=&nbsp;Path.Combine(AppDomain.CurrentDomain.BaseDirectory,&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">"luceneIndexs"</span>);<br>});<br><span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;SmartChineseAnalyzer&nbsp;的停用词可以自定义</span><br>builder.Services.AddScoped&lt;Analyzer&gt;(s&nbsp;=&gt;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">new</span>&nbsp;SmartChineseAnalyzer(LuceneSearchEngine.LuceneVersion));<br>builder.Services.AddScoped&lt;LuceneSearchEngine&gt;();<br><br><span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;other&nbsp;service</span><br><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #61aeee; line-height: 26px;">Demo</span><br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">private</span>&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">readonly</span>&nbsp;LuceneSearchEngine&nbsp;_luceneSearchEngine;<br>&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">public</span>&nbsp;<span class="hljs-title" style="color: #61aeee; line-height: 26px;">Demo</span>(<span class="hljs-params" style="line-height: 26px;">LuceneSearchEngine&nbsp;luceneSearchEngine</span>)</span><br>&nbsp;{<br>&nbsp;&nbsp;_luceneSearchEngine&nbsp;=&nbsp;luceneSearchEngine;<br>&nbsp;}<br>}<br></code></pre>
<h3 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 0.6em auto; padding-left: 10px; border-left: 2px solid #009688;"><span class="prefix" style="display: none;"></span><span class="content">自定义停止词</span><span class="suffix" style="display: none;"></span></h3>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; background: #282c34; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch;"><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">var</span>&nbsp;defaultStop=&nbsp;CharArraySet.UnmodifiableSet(WordlistLoader.GetWordSet(IOUtils.GetDecodingReader(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">typeof</span>(SmartChineseAnalyzer),&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">"stopwords.txt"</span>,&nbsp;Encoding.UTF8),&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">"//"</span>,&nbsp;LuceneSearchEngine.LuceneVersion));<br><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">var</span>&nbsp;stopwords&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">new</span>&nbsp;CharArraySet(LuceneSearchEngine.LuceneVersion,&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">new</span>&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">string</span>[]&nbsp;{<span class="hljs-string" style="color: #98c379; line-height: 26px;">"的"</span>,&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">"sb"</span>},&nbsp;<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">true</span>);<br></code></pre>
<h3 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 0.6em auto; padding-left: 10px; border-left: 2px solid #009688;"><span class="prefix" style="display: none;"></span><span class="content">从数据集合创建索引</span><span class="suffix" style="display: none;"></span></h3>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; background: #282c34; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch;"><span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;demo&nbsp;model</span><br><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #61aeee; line-height: 26px;">Person</span><br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-meta" style="color: #61aeee; line-height: 26px;">LuceneIndexed(<span class="hljs-meta-string" style="color: #98c379; line-height: 26px;">"Id"</span>,&nbsp;true)</span>]<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">long</span>&nbsp;Id&nbsp;{&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">get</span>;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">set</span>;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-meta" style="color: #61aeee; line-height: 26px;">LuceneIndexed(<span class="hljs-meta-string" style="color: #98c379; line-height: 26px;">"Name"</span>,&nbsp;false)</span>]<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">string</span>&nbsp;Name&nbsp;{&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">get</span>;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">set</span>;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-meta" style="color: #61aeee; line-height: 26px;">LuceneIndexed(<span class="hljs-meta-string" style="color: #98c379; line-height: 26px;">"Remarks"</span>,&nbsp;false,&nbsp;IsTextField&nbsp;=&nbsp;true,&nbsp;IsHighLight&nbsp;=&nbsp;true,&nbsp;HightLightMaxNumber&nbsp;=&nbsp;1)</span>]<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">public</span>&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">string</span>&nbsp;Remarks&nbsp;{&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">get</span>;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">set</span>;&nbsp;}<br>}<br><br><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">var</span>&nbsp;dataList=<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">new</span>&nbsp;List&lt;Person&gt;();<br><br><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">var</span>&nbsp;successed&nbsp;=&nbsp;_luceneSearchEngine.CreateIndex(dataList);<br></code></pre>
<h3 data-tool="mdnice编辑器" style="margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin: 0.6em auto; padding-left: 10px; border-left: 2px solid #009688;"><span class="prefix" style="display: none;"></span><span class="content">搜索</span><span class="suffix" style="display: none;"></span></h3>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">构建query</section></li></ul>
<ol data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: decimal;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">直接构建：</section></li></ol>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; background: #282c34; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch;"><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">var</span>&nbsp;query&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">new</span>&nbsp;TermQuery(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">new</span>&nbsp;Term(<span class="hljs-string" style="color: #98c379; line-height: 26px;">"Remarks"</span>,&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">"搜索"</span>));<br><br><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">var</span>&nbsp;query&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">new</span>&nbsp;PhraseQuery(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">new</span>&nbsp;Term(<span class="hljs-string" style="color: #98c379; line-height: 26px;">"Remarks"</span>,&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">"搜索"</span>));<br><br><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">var</span>&nbsp;query&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">new</span>&nbsp;BooleanQuery()<br>queryd.Add(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">new</span>&nbsp;TermQuery(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">new</span>&nbsp;Term(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">nameof</span>(Person.Remarks),&nbsp;keyWords)),&nbsp;Occur.MUST);<br></code></pre>
<ol start="2" data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: decimal;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">通过QueryParser和MultiFieldQueryParser构建</section></li></ol>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; background: #282c34; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch;">&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">var</span>&nbsp;parser&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">new</span>&nbsp;QueryParser(LuceneVersion.LUCENE_48,&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">nameof</span>(Person.Remarks),&nbsp;_luceneSearchEngine.Analyzer);<br>&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">var</span>&nbsp;query&nbsp;=&nbsp;parser.Parse(keyWords);<br><br>&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">var</span>&nbsp;ab&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">new</span>&nbsp;MultiFieldQueryParser(LuceneSearchEngine.LuceneVersion,&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">new</span>[]&nbsp;{&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">nameof</span>(Person.Name),&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">nameof</span>(Person.Remarks)&nbsp;},&nbsp;_luceneSearchEngine.Analyzer);<br>&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">var</span>&nbsp;query&nbsp;=&nbsp;ab.Parse(keyWords);<br></code></pre>
<ol start="3" data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: decimal;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">通过QueryBuilder 构建  [不支持多条件]</section></li></ol>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; background: #282c34; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch;"><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">var</span>&nbsp;builder&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">new</span>&nbsp;QueryBuilder();<br>&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">var</span>&nbsp;query&nbsp;=&nbsp;builder.BuildQuery(keyWords);<br></code></pre>
<ul data-tool="mdnice编辑器" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">执行查询</section></li></ul>
<pre class="custom" data-tool="mdnice编辑器" style="margin-top: 10px; margin-bottom: 10px;"><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; background: #282c34; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; border-radius: 0px; font-size: 12px; -webkit-overflow-scrolling: touch;">&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">var</span>&nbsp;searchResult&nbsp;=&nbsp;_luceneSearchEngine.Search&lt;Person&gt;(<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">new</span>&nbsp;SearchModel(query,&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">100</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OrderBy&nbsp;=&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">new</span>&nbsp;SortField[]&nbsp;{&nbsp;SortField.FIELD_SCORE&nbsp;},&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;排序信息</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Skip&nbsp;=&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">0</span>,&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;分页skip</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Take&nbsp;=&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">20</span>,&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;分页&nbsp;take</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Score&nbsp;=&nbsp;<span class="hljs-number" style="color: #d19a66; line-height: 26px;">0</span>,&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;权重&nbsp;0开始越大标识越精确</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OnlyTyped&nbsp;=&nbsp;<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">true</span>,&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;是否只在指定的泛型类型索引文档中搜索，false标识不区分泛型type约束全部查询</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HighlightTag&nbsp;=&nbsp;(<span class="hljs-string" style="color: #98c379; line-height: 26px;">$"&lt;a&nbsp;style='color:<span class="hljs-subst" style="color: #e06c75; line-height: 26px;">{highlight}</span>'&gt;"</span>,&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">"&lt;/a&gt;"</span>)&nbsp;<span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">//&nbsp;高亮标记</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br></code></pre>
</section>